# KE Analyzer - Configuration Template
# Copy this file to .env and fill in your values

# ===========================================
# FastAPI Settings
# ===========================================
DEBUG=false
HOST=0.0.0.0
PORT=8000
LOG_LEVEL=INFO

# ===========================================
# Jira Configuration (Required)
# ===========================================
JIRA_URL=https://your-jira.atlassian.net
JIRA_USERNAME=your-email@example.com
JIRA_API_TOKEN=your-api-token
JIRA_PROJECT_KEY=
JIRA_WEBHOOK_SECRET=

# ===========================================
# Qwen-Max AI Configuration (Required)
# ===========================================
QWEN_API_KEY=your-dashscope-api-key
QWEN_MODEL=qwen-max
QWEN_MAX_TOKENS=4096
QWEN_TEMPERATURE=0.3

# ===========================================
# Memory MCP Configuration (Optional)
# ===========================================
MEMORY_MCP_URL=
MEMORY_MCP_API_KEY=
ENABLE_MEMORY_MCP=true

# ===========================================
# Assembly Analysis Configuration (New in v1.1)
# ===========================================
# Enable assembly-level deep analysis
ENABLE_ASSEMBLY_ANALYSIS=true

# Number of assembly instructions to analyze around crash point
MAX_ASM_CONTEXT_INSTRUCTIONS=30

# Enable bitflip detection (hardware failure detection)
BITFLIP_DETECTION_ENABLED=true

# ===========================================
# Kernel Source Analysis Configuration (Reserved for future)
# ===========================================
# Path to Android Linux kernel source code
KERNEL_SOURCE_PATH=

# Path to index database for faster queries
KERNEL_INDEX_DB_PATH=

# Backend type: stub (current), cscope, clang, lsp (future)
SOURCE_ANALYZER_BACKEND=stub

# Enable caching for source analysis
ENABLE_SOURCE_CACHE=true
SOURCE_CACHE_TTL=3600

# ===========================================
# Tool Gateway Configuration
# ===========================================
CRASH_COMMAND=/usr/bin/crash
GDB_COMMAND=/usr/bin/gdb
ADDR2LINE_COMMAND=/usr/bin/addr2line

# ===========================================
# Storage Configuration
# ===========================================
TEMP_DIR=/tmp/ke-analyzer
MAX_ATTACHMENT_SIZE=10737418240

# ===========================================
# Analysis Settings
# ===========================================
MAX_ANALYSIS_TIME=600
ENABLE_KERNEL_RAG=true

# ===========================================
# Security Settings
# ===========================================
# Set to a random string for production
SECRET_KEY=your-secret-key-here

# ===========================================
# Development Settings
# ===========================================
# Enable auto-reload for development
RELOAD=false

# Enable detailed error messages
DETAILED_ERRORS=false
