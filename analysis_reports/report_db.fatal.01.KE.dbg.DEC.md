# Kernel Crash Analysis Report
## db.fatal.01.KE.dbg.DEC

## 基本信息

| 项目 | 值 |
|------|-----|
| Crash ID | db.fatal.01.KE.dbg.DEC |
| 异常类型 | Kernel |
| 异常时间 | Mon Jun  9 12:05:26 CST 2025 |
| 系统运行时间 | 114.7540 |
| 平台 | MT6789 |
| WDT Status | 2 |
| Exception Type | 2 |

## 进程信息

- **当前进程**: kworker/3:1H (PID: 26858)
- **父进程**: kthreadd (PID: 2)

## 崩溃位置

- **PC (程序计数器)**: [ffffffe91b368dac] __queue_work+0x28/0xba4
- **LR (链接寄存器)**: [ffffffe91b36d188] delayed_work_timer_fn+0x24/0x34

## 调用栈 (Backtrace)

```
# 1 [ffffffe91b2abff8] die_kernel_fault+0x80/0x94
# 2 [ffffffe91b2abf28] __do_kernel_fault+0x23c/0x28c
# 3 [ffffffe91cc11e90] do_page_fault+0xb0/0x858
# 4 [ffffffe91cc11dc0] do_translation_fault+0x44/0x64
# 5 [ffffffe91b2ab2f4] do_mem_abort+0x68/0x164
# 6 [ffffffe91c955bd0] el1_abort+0x40/0x68
# 7 [ffffffe91c955b5c] el1_sync_handler+0x54/0x88
# 8 [ffffffe91b212488] el1_sync+0x88/0x140
# 9 [ffffffe91b368dac] __queue_work+0x28/0xba4
#10 [ffffffe91b36d184] delayed_work_timer_fn+0x20/0x34
#11 [ffffffe91b465710] call_timer_fn+0x54/0x314
#12 [ffffffe91b4653dc] expire_timers+0x148/0x428
#13 [ffffffe91b465158] __run_timers+0x1ec/0x328
#14 [ffffffe91b464f38] run_timer_softirq+0x24/0x58
#15 [ffffffe91b2105e4] __do_softirq+0x164/0x5ec
#16 [ffffffe91b33ca50] __irq_exit_rcu+0x104/0x124
#17 [ffffffe91b403974] __handle_domain_irq+0x138/0x214
#18 [ffffffe91b21037c] gic_handle_irq.30586+0x68/0x168
#19 [ffffffe91b212620] el1_irq+0xe0/0x1c0
#20 [ffffffe91b391ee0] finish_task_switch+0x8c/0x428
#21 [ffffffe91cc02458] __schedule+0x5bc/0xc48
#22 [ffffffe91cc02b60] schedule+0x7c/0x164
#23 [ffffffe91b370bb8] worker_thread+0x558/0x920
#24 [ffffffe91b37f498] kthread+0x14c/0x200
#25 [ffffffe91b215918] ret_from_fork+0xc/0x30
```

## 根因分析

异常类型为 Watchdog Timeout (WDT status: 2)，表示发生了硬件看门狗超时。
PC 指向工作队列函数 __queue_work()，这是内核工作队列机制的核心函数。
崩溃发生在工作队列处理过程中，可能原因包括：
- 工作队列数据结构损坏
- 工作项回调函数出现问题
- 并发访问导致的数据竞争
崩溃发生在内核工作线程 kworker/3:1H 中，这是一个内核态线程。

## 涉及模块

- kernel/time
- kernel/mm
- kernel/irq
- kernel/sched

## 关键日志片段

```
[275623.979905] [T119358] WARNING: CPU: 1 PID: 19358 at drivers/regulator/core.c:2856 _regulator_disable+0x74/0x48c
[275623.982560] [T119358] Call trace:
[275623.985342] [T119358] WARNING: CPU: 1 PID: 19358 at drivers/regulator/core.c:2856 _regulator_disable+0x74/0x48c
[275623.989623] [T119358] Call trace:
[275722.480685] [C326634] Unable to handle kernel NULL pointer dereference at virtual address 0000000000000102
[275722.480885] [C326634] Internal error: Oops: 96000005 [#1] PREEMPT SMP
[275722.574824] [C326634] Call trace:
[275722.574991] [C326634]  ipanic_die+0x24/0x38 [mrdump]
```

## 修复建议

1. 检查 kernel log 中崩溃前的警告信息，寻找潜在问题线索
2. 确认 vmlinux 符号文件与运行内核版本完全匹配
3. 检查工作队列回调函数是否正确初始化
4. 验证延迟工作的定时器是否正确设置
5. 检查是否存在工作队列的重复提交或竞态条件
6. 分析看门狗超时前的系统状态，检查是否有无限循环或死锁
7. 考虑增加看门狗超时时间以收集更多信息

## 构建信息

```
alps-vf-mp-s0.mp1unknown:alps-vf-mp-s0.mp1unknown-V17.23_reallytek.s0mp1rc.k61v1.64.bsp_P8.V13.8:mt6789:S01,Infinix/X6886-OP/Infinix-X6886:15/AP3A.240905.015.A2/103033:user_root/relea
```

---
*Report generated by ke-analyzer on 2026-02-02 23:31:34*